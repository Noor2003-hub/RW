{% extends "layout.html" %}

{% block title %}
    Log In
{% endblock %}

{% block main %}
<h1>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„ÙˆÙ„ÙŠ Ø§Ù…Ø± ðŸ‘ª</h1>
<br>
<div class="settings-container">
    <form action="/login_p" method="post" id="loginForm">
        <div class="mb-3">
            <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="username" name="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" type="text" required>
        </div>

        <div class="mb-3">
            <input class="form-control mx-auto w-auto" id="password" name="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" type="password" required>
        </div>

        <button class="btn btn-primary" type="submit">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
    </form>

    <script>
        // Add a click event to the button with the class "btn-primary"
document.querySelector(".btn-primary").onclick = function() {
    // When the button is clicked, replace its content with a loading animation
    this.innerHTML = "<div class='loader'></div>";
};

// Add an event listener for keydown events on the login form
document.getElementById('loginForm').addEventListener('keydown', function(event) {
    // Check if the pressed key is the Enter key
    if (event.key === 'Enter') {
        event.preventDefault(); // Stop the form from being submitted automatically

        // Get a list of all input fields inside the form
        const inputs = Array.from(this.querySelectorAll('input'));

        // Find which input field is currently active (focused)
        const currentIndex = inputs.indexOf(document.activeElement);

        // If we're not on the last input field, move focus to the next one
        if (currentIndex >= 0 && currentIndex < inputs.length - 1) {
            inputs[currentIndex + 1].focus();
        } else {
            // If we're on the last input field, submit the form
            this.submit();
        }
    }
});

    </script>
    <p class="mt-3">
        <a href="/register">Ù„Ø§ ØªÙ…Ù„Ùƒ Ø­Ø³Ø§Ø¨ØŸ Ø§Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨</a>
    </p>
    <p class="mt-3">
        <a href="/forgot_password">Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ</a>
    </p>
<p class="mt-3">
        <a href="/login_s">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒØ§Ø®ØªØµØ§ØµÙŠØŸ</a>
    </p>

</div>
{% endblock %}
