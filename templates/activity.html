{% extends "layout.html" %}

{% block title %}
    Activity
{% endblock %}

{% block main %}
<style>
    .modal-content {
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    height: 100%; /* Ensure the modal takes up enough space */
    display: flex;
    justify-content: center;
    align-items: center;
}
    .modal-header,h6 {
    text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6); /* Subtle shadow for text clarity */
    font-size: 1.8rem;
    font-weight: bold;
    border-radius: 8px; /* Slight rounding for smoothness */
    padding: 10px;
    background-color: white; /* Solid background */
    color: #333; /* High contrast text */
}
    .list-group{
       background-color: rgb(255,255,255,0.9);
    }

    .motion-bg {
        background-image: url('/static/defult/motion.png');
    }
    .cognition-bg {
        background-image: url('/static/defult/cognitive.png');
    }

    .language-bg {
        background-image: url('/static/defult/language.png');
    }

    .selfcare-bg {
        background-image: url('/static/defult/self_care.png');
    }

    .social-bg {
        background-image: url('/static/defult/social.png');
    }
</style>
<div dir="ltr">
    <a href="/home" class="btn btn-primary" style="float: left; margin-left:5%">Ø§Ù„Ø¹ÙˆØ¯Ø© ğŸ ï¸</a>
</div>

<table style="width:100%">
    <tr>
        <td style="width:20%">
            {% if n %}
            <form method="POST" action="/activity" style="margin-top:20%; height: 100%; width: 100%">
                <button class="btn btn-primary" style=" height: 50%; width:40%; margin-left:3%;" name="age_range" value="{{ n }}" type="submit">
                    <h3>â®</h3>
                </button>
                <h5>{{ n }}</h5>
            </form>
            {% endif %}
        </td>
        <td style="width: 60%">
            <div style="width:100%; text-align: center">
                <h2>Ù…Ù‡Ø§Ø±Ø§Øª Ù„Ù„Ø·ÙÙ„ Ù…Ù† {{ age_range }} Ø³Ù†ÙˆØ§Øª</h2>
            </div>
        </td>
        <td style="width:20%">
            {% if p %}
            <form method="POST" action="/activity" style="margin-top:20%; height: 100%; width: 100%">
                <button class="btn btn-primary" style="height: 50%; width:40%; margin-right:3%;" name="age_range" value="{{ p }}" type="submit">
                    <h3>â®œ</h3>
                </button>
                <h5>{{ p }}</h5>
            </form>
            {% endif %}
        </td>
    </tr>
</table>

<div style="display: flex; justify-content: center; gap: 10px;">
    <form method="get" action="/activity">
        <input type="hidden" name="age_range" value="{{ age_range }}">
        <button style='background-color: #B32E31' class="btn2" name="category" value="Ø§Ù„Ù„ØºØ©" type="submit"><h2>ğŸ—£</h2></button>
        <p>Ø§Ù„Ù„ØºØ©</p>
    </form>
    <form method="get" action="/activity">
        <input type="hidden" name="age_range" value="{{ age_range }}">
        <button style='background-color: #FAD052' class="btn2" name="category" value="Ø§Ù„Ø¥Ø¯Ø±Ø§Ùƒ" type="submit"><h2>ğŸ§ </h2></button>
        <p>Ø§Ù„Ø¥Ø¯Ø±Ø§Ùƒ</p>
    </form>
    <form method="get" action="/activity">
        <input type="hidden" name="age_range" value="{{ age_range }}">
        <button style='background-color: #7CB84B' class="btn2" name="category" value="Ø§Ù„Ø­Ø±ÙƒØ©" type="submit"><h2>ğŸƒâ€â™‚ï¸</h2></button>
        <p>Ø§Ù„Ø­Ø±ÙƒØ©</p>
    </form>
    <form method="get" action="/activity">
        <input type="hidden" name="age_range" value="{{ age_range }}">
        <button style='background-color: #84A5D9' class="btn2" name="category" value="Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©" type="submit"><h2>ğŸ´</h2></button>
        <p>Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©<br> Ø§Ù„Ø°Ø§ØªÙŠØ©</p>
    </form>
    <form method="get" action="/activity">
        <input type="hidden" name="age_range" value="{{ age_range }}">
        <button style='background-color: #9F67C7' class="btn2" name="category" value="Ø§Ù„Ù…Ø®Ø§Ù„Ø·Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©" type="submit"><h2>ğŸ‘¥</h2></button>
        <p>Ø§Ù„Ù…Ø®Ø§Ù„Ø·Ø©<br> Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©</p>
    </form>
</div>

<p style="font-size: small">Ø§Ø®ØªØ± âœ”ï¸ Ø§Ø°Ø§ ØªÙ…ÙƒÙ† Ø·ÙÙ„Ùƒ Ù…Ù† Ø§Ù„Ù…Ù‡Ø§Ø±Ø©<br> Ø§Ø®ØªØ± â¹ï¸ Ø¹Ù†Ø¯ ÙˆØ¬ÙˆØ¯ Ø¨Ø¯Ø§ÙŠØ§Øª Ù„Ù„Ù…Ù‡Ø§Ø±Ø©<br> Ø§Ø®ØªØ± âŒ Ø§Ø°Ø§ Ù„Ù… ÙŠØªÙ…ÙƒÙ† Ø·ÙÙ„Ùƒ Ù…Ù† Ø§Ù„Ù…Ù‡Ø§Ø±Ø©</p>
<h3>Ù…Ø¬Ø§Ù„ {{ category }}</h3><br>

<div style="display: flex; justify-content: center;">
    {% if category == 'Ø§Ù„Ù„ØºØ©' %}
    <table class='table blended-table' style="width: 80%; border-color: black; background-color: rgba(179, 46, 49, 0.2);">
    {% elif category == 'Ø§Ù„Ø¥Ø¯Ø±Ø§Ùƒ' %}
    <table class='table blended-table' style="width: 80%; border-color: black; background-color: rgba(250, 208, 82, 0.4);">
    {% elif category == 'Ø§Ù„Ø­Ø±ÙƒØ©' %}
    <table class='table blended-table' style="width: 80%; border-color: black; background-color: rgba(124, 184, 75, 0.4);">
    {% elif category == 'Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©' %}
    <table class='table blended-table' style="width: 80%; border-color: black; background-color: rgba(132, 165, 217, 0.4);">
    {% elif category == 'Ø§Ù„Ù…Ø®Ø§Ù„Ø·Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©' %}
    <table class='table blended-table' style="width: 80%; border-color: black; background-color: rgba(159, 103, 199, 0.4);">
    {% endif %}

    {% for i in data %}
    <tr>
        <td>
            <br>
            <strong>{{ i.title }} - {{ i.performance }}</strong><br><br>
            <button class="btn btn-primary" style="font-size: 15px;" type="button" data-bs-toggle="modal" data-bs-target="#activitiesModal{{ loop.index }}">
                Ø£Ù†Ø´Ø·Ø© Ù…Ù‚ØªØ±Ø­Ø©
            </button>

            <!-- Modal for Suggested Activities -->
            <div class="modal fade" id="activitiesModal{{ loop.index }}" tabindex="-1" aria-labelledby="activitiesModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content {% if category == 'Ø§Ù„Ø­Ø±ÙƒØ©' %}motion-bg{% elif category == 'Ø§Ù„Ø¥Ø¯Ø±Ø§Ùƒ' %}cognition-bg{% elif category == 'Ø§Ù„Ù„ØºØ©' %}language-bg{% elif category == 'Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©' %}selfcare-bg{% elif category == 'Ø§Ù„Ù…Ø®Ø§Ù„Ø·Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©' %}social-bg{% endif %}">
                        <div class="modal-header">
                            <h5 class="modal-title" id="activitiesModalLabel">
                                {% if category == 'Ø§Ù„Ù„ØºØ©' %}
                                Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ù„ØºÙˆÙŠØ©
                                {% elif category == 'Ø§Ù„Ø¥Ø¯Ø±Ø§Ùƒ' %}
                                Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ø§Ø¯Ø±Ø§ÙƒÙŠØ©
                                {% elif category == 'Ø§Ù„Ø­Ø±ÙƒØ©' %}
                                Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ø­Ø±ÙƒÙŠØ©
                                {% elif category == 'Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©' %}
                                Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©
                                {% elif category == 'Ø§Ù„Ù…Ø®Ø§Ù„Ø·Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©' %}
                                Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø§Ù„Ø·Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©
                                {% endif %}
                            </h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <h6>{{ i.title }} - {{ i.performance }}</h6>
                            <ul class="list-group">
                                {% for activity in i.suggested_activities %}
                                <li class="list-group-item" style="background-color: rgba(255, 255, 255, 0.3)">{{ activity }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </td>
        <form method="post" action="/update">
            <td>

                <input type="hidden" name="age_range" value="{{ age_range }}">
                <input type="hidden" name="performance_id" value="{{ i.id }}">
                <input type="hidden" name="child_age" value="{{ i.age }}">
                <input type="hidden" name="performance_title" value="{{ i.title }}">
                <input type="hidden" name="category" value="{{ category }}">
                <label>
                    <input type="radio" name="scale" value="2" {% if i.scale == 2 %}checked{% endif %}>
                    <p>âœ”ï¸</p>
                </label>
                <label>
                    <input type="radio" name="scale" value="1" {% if i.scale == 1 %}checked{% endif %}>
                    <p>â¹ï¸</p>
                </label>
                <label>
                    <input type="radio" name="scale" value="0" {% if i.scale == 0 %}checked{% endif %}>
                    <p>âŒ</p>
                </label>
                <label>
                    <div class="mb-3">
                        <textarea name="comment" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø©" class="form-control" id="comment">{{ i.comment }}</textarea>
                    </div>
                </label>
            </td>
        <td style="width: 10%">
            <button type="submit">ØªØ£ÙƒÙŠØ¯</button>
        </td></form>
    </tr>
    {% endfor %}
</table>


{% endblock %}
