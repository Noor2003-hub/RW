{% extends "layout.html" %}

{% block title %}
    Register
{% endblock %}

{% block main %}


    <style>
        .form-group {
            display: flex;
            align-items: center;
        }

        .form-group label {
            width: 40%;
            text-align: right;
            margin-left: 10px;
        }

        .form-group input,
        .form-group textarea,
        .form-group .custom-file-input {
            width: 60%;
            text-align: right;
        }

        @media (max-width: 768px) {
            .form-group {
                flex-direction: column;
                align-items: flex-start;
            }

            .form-group label {
                width: 100%;
                text-align: left;
                margin-right: 0;
                margin-bottom: 5px;
            }

            .form-group input,
            .form-group textarea,
            .form-group .custom-file-input {
                width: 100%;
            }
        }
    </style>
<style>
    .terms-container label {
        display: flex;
        align-items: center;
        font-size: 90%;
    }

    .terms-container input[type="checkbox"] {
        margin: 3px;
        padding: 0;
        transform: scale(1.5);
        vertical-align: middle;
    }
</style>
<h2>ููููู ุงูุงูุถูุงู ุงูู ุทุงูู ุนูู ูููุนูุง ๐ด</h2>
<p>ุงูุถูุงูู ุฅูู ุงูุฅุฎุตุงุฆูู ูุนูุง ุณูุณุงูู ูู ุงูุฅุฌุงุจุฉ ุนูู ุฃุณุฃูุฉ ุงููุณุชุฎุฏููู</p>
<div class="settings-container">
    <form action="/register2" id="loginForm" method="post" enctype="multipart/form-data" style="width:80%; margin-left: auto; margin-right: auto;">
        <div class="mb-3 form-group">
            <label for="username">ุฅุณู ุงููุณุชุฎุฏู:</label>
            <input name="username" class="form-control" type="text" id="username" autocomplete="off" autofocus>
        </div>
        <div class="mb-3 form-group">
            <label for="name">ุงูุฅุณู ูุงูู (ุงูุฅุณู ุงูุฐู ุณูุธูุฑ ูููุณุชุฎุฏููู):</label>
            <input name="name" class="form-control" type="text" id="name" autocomplete="off" autofocus>
        </div>
        <div class="mb-3 form-group">
            <label for="date_of_birth">ุงุฎุชุฑ ุชุงุฑูุฎ ุงููููุงุฏ:</label>
            <input class="form-control" type="date" id="date_of_birth" name="date_of_birth" required>
        </div>
        <div class="mb-3 form-group">
            <label for="spec">ุงูุชุฎุตุต:</label>
            <input name="spec" class="form-control" type="text" id="spec" autocomplete="off" autofocus>
        </div>
        <div class="mb-3 form-group">
            <label for="date_of_grad">ุณูุฉ ุงูุชุฎุฑุฌ:</label>
            <input type="number" class="form-control" id="date_of_grad" name="date_of_grad" min="1900" max="{{now}}" placeholder="YYYY">
        </div>
        <div class="mb-3 form-group">
            <label for="email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:</label>
            <input name="email" class="form-control" type="text" id="email" autocomplete="off" autofocus>
        </div>
        <div class="mb-3 form-group">
            <label for="password">ูููุฉ ุงููุฑูุฑ:</label>
            <input name="password" class="form-control" type="password" id="password" onkeyup="checkPasswordStrength()">
            <div id="password-strength" style="text-align: right;"></div>
        </div>
        <div class="mb-3 form-group">
            <label for="confirmation">ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ:</label>
            <input name="confirmation" class="form-control" type="password" id="confirmation">
        </div>
        <div class="mb-3 form-group">
            <label for="desc">ูุจุฐุฉ ุนูู (ุงุฎุชูุงุฑู):</label>
            <textarea name="desc" class="form-control" id="desc" style="height: 100px;"></textarea>
        </div>
        <div class="mb-3 form-group">
        <label for="img">ุงุฑูุน ุตูุฑุฉ ูุดูุงุฏุชู ูู ุงูุชุฎุตุต:</label>

        <input type="file" class="form-control" name="img" id="img">
        </div>
        <p>[ุจูุงุก ุนูู ูุฐุง ุงููุณุชูุฏ ุณูุชู ุงูููุงููุฉ ุนูู ูุจููู ุถูู ุงูุงุฎุชุตุงุตูู]</p>
        <div class="mb-3 form-group">
        <label for="img2">ุงุฑูุน ุตูุฑุฉ ุดุฎุตูุฉ (ุงุฎุชูุงุฑู):</label>
            <input type="file" class="form-control" name="img2" id="img2" onchange="previewImage(event)">
        </div>
        <div class="image-container" style="width: 100px; height: 100px;">
            <img src="/static/defult/unknown.jpg" alt="Child Image" id="child-img-preview" class="rounded-image">
        </div>
        <div class="terms-container">
            <label>
                <input type="checkbox" id="termsCheckbox" onclick="toggleSubmitButton()">
                ุฃูุงูู ุนูู <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">ุดุฑูุท ุงูุงุณุชุฎุฏุงู</a>   ูุฃูุชุฒู ุจุชูุฏูู ุงูุงุณุชุดุงุฑุงุช ูููุณุชุฎุฏููู.
            </label>
        </div>

        <button class="btn btn-primary" id="submitButton" type="submit" disabled>ุฅูุดุงุก ุญุณุงุจ</button>
    </form>

    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="termsModalLabel">ุดุฑูุท ุงูุงุณุชุฎุฏุงู</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" dir="rtl">
                    <ul>
                        <li>ุงุนุฑุถ ูุคููุงุชู ูุดูุงุฏุงุชู ููุฌุงูุงุช ุฎุจุฑุชู ุจุตุฏู ูู ูููู ุงูุดุฎุตู. ุชุฌูุจ ุงููุจุงูุบุฉ ุฃู ุชุญุฑูู ุฃู ุจูุงูุงุช ุงุนุชูุงุฏุ ูุฃู ูุฐุง ูุฏ ูุถูู ุงููุณุชุฎุฏููู ุงูุฐูู ูุทูุจูู ุงููุณุงุนุฏุฉ.</li>
                        <li>ูุง ุชุทูุจ ุฃู ุชุชููุน ุชูุงุตูู ุดุฎุตูุฉ ุฃู ุฎุงุตุฉ ูู ุงูุขุจุงุก ุฃู ุฃุทูุงููู ุชุชุฌุงูุฒ ูุง ูู ุถุฑูุฑู ูุชูุฏูู ุงูุฅุฑุดุงุฏุงุช. ุงุญูู ุฃู ูุนูููุงุช ูุดุชุฑูุฉ ุจุฃุนูู ูุณุชูู ูู ุงูุณุฑูุฉ.</li>
                        <li>ุงูุชุฒู ุจุฏูุฉ ุจุชูููุฉ ุงูุทููุ ูุฅุฑุดุงุฏุงุช ุงูุฃุจูุฉ ูุงูุฃูููุฉุ ูุงูููุถูุนุงุช ุฐุงุช ุงูุตูุฉ. ุชุฌูุจ ุชูุฏูู ุงูุชุดุฎูุตุงุช ุ ุฃู ุชููููุงุช ุ ุฃู ุฃู ุชูุตูุงุช ุฎุงุฑุฌ ูุทุงู ุงูููู ูู Rise Wise.</li>
                        <li>ุงุณุชูุฏู ุงูุฑุฏ ุนูู ุงุณุชูุณุงุฑุงุช ุงููุณุชุฎุฏููู ูู ุบุถูู ุฅุทุงุฑ ุฒููู ูุนูููุ ูุชูุฏูู ุฅุฌุงุจุงุช ูุงุถุญุฉ ููููููุฉ. ุญุงูุธ ุนูู ุงูุงุชุณุงู ูู ุงูุชูุงุตู ูุชุฌูุจ ุงุณุชุฎุฏุงู ูุบุฉ ุบูุฑ ูููููุฉ ููุนุงูุฉ ูุง ูู ููู ุฐูู ุถุฑูุฑููุง.</li>
                        <li>ูุง ุชุณุชุฎุฏู ุงูููุตุฉ ููุชุฑููุฌ ููุตุงูุญ ุชุฌุงุฑูุฉ ุดุฎุตูุฉ ุฃู ููุงุฑุณุฉ ุฎุงุตุฉ ุฃู ุฎุฏูุงุช ุฃุฎุฑู ุฎุงุฑุฌ Parent Guideู. ุงูุชูุน ุนู ุงูุชูุตูุฉ ุจููุชุฌุงุช ุฃู ุฎุฏูุงุช ูุชุญููู ููุงุณุจ ุดุฎุตูุฉ.</li>
                        <li>ุชูุงุนู ุจุงุญุชุฑุงู ูุน ุฌููุน ุงููุณุชุฎุฏูููุ ุจุบุถ ุงููุธุฑ ุนู ุงุณุชูุณุงุฑุงุชูู. ุชุฌูุจ ุงููุบุฉ ุงูููุงุฌูุฉ ุฃู ุงูุญูููุฉุ ููู ูุชุนุงุทููุงุ ูุงููู ุฃู ูุฎุงูู ูู ูุงูุฏ ุฃู ูุงูุฏุฉ ุญููููุฉ ููุฑูุฏุฉ ูู ููุนูุง.</li>
                        <li>ูู ุงูุญุงูุงุช ุงูุชู ุชูุทูู ุนูู ูุถุงูุง ุญุณุงุณุฉ ุฃู ุญุงูุงุช ุทูุงุฑุฆ ูุญุชููุฉุ ููุตุญ ุงูุขุจุงุก ุจุงูุณุนู ููุญุตูู ุนูู ูุณุงุนุฏุฉ ูุจุงุดุฑุฉ ูู ุงูุงุฎุตุงุฆูู. ุชุฌูุจ ุชูุฏูู ุชูุตูุงุช ูููู ุชูุณูุฑูุง ุนูู ุฃููุง ูุตูุญุฉ ุนุงุฌูุฉ.</li>
                        <li>ูุง ุชูุฏู ุณูู ุงููุตุงุฆุญ ุงููุฏุนููุฉ ุจุฃุจุญุงุซ ููุซููุฉ ูุฃูุถู ุงูููุงุฑุณุงุช ุงููุนููู ุจูุง ูู ูุฌุงู ุชุฎุตุตู. ุชุฌูุจ ุชูุฏูู ูุตุงุฆุญ ุฃู ุฅุฑุดุงุฏุงุช ุชุฎููููุฉ ุฎุงุฑุฌ ูุทุงู ุฎุจุฑุชู ุงูููููุฉ.</li>
                        <li>ุงูุชุฒู ุจุงูุชุทููุฑ ุงููููู ุงููุณุชูุฑ ูู ุฎูุงู ุงูุจูุงุก ุนูู ุงุทูุงุน ุจุฃุญุฏุซ ุงูุฃุจุญุงุซ ูุงูุฃุณุงููุจ ูู ูุฌุงู ููู ุงูุทูู.</li>
                        <li>ุชุฌูุจ ุงูุงุญุชูุงุธ ุจุฃู ุณุฌูุงุช ูู ูุญุงุฏุซุงุชู ุฎุงุฑุฌ ุงูููุตุฉ</li>
                        <li>ุงุญุฑุต ุนูู ุนุฏู ูุดุงุฑูุฉ ูุนูููุงุช ุดุฎุตูุฉ ุญุณุงุณุฉ ุฃู ุฃุณุฑุงุฑ ููููุฉ.</li>
                        <li><strong>ุนุฏู ุงูุงูุชุฒุงู ุจูุฐู ุงูุฅุฑุดุงุฏุงุช ูุฏ ูุคุฏู ุฅูู ุชุนููู ุฃู ุฅูุบุงุก ุงูุชูุงุฒุงุช ุงูุงุฎุตุงุฆูู</strong></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>


        <script>
        // Monitor the 'input' event on the password field to assess its strength
document.getElementById('password').addEventListener('input', function() {
    const password = this.value; // Get the current value of the password field
    const strengthIndicator = document.getElementById('password-strength'); // Element to display the strength message
    let strength = 0; // Initialize the strength score

    // Increment strength score if the password meets certain conditions
    if (password.length >= 5) strength += 1; // Add 1 point for a password of at least 5 characters
    if (/\d/.test(password)) strength += 1; // Add 1 point for including at least one digit

    let strengthText; // Variable to hold the strength message
    // Determine the strength message based on the score
    switch (strength) {
        case 0:
            strengthText = '<span style="color:red;">ุถุนููุฉ ุฌุฏุง: ูููุฉ ุงููุฑูุฑ ูุฌุจ ุฃู ุชุชููู ูู 5 ุญุฑูู ุนูู ุงูุฃูู ูุชุญุชูู ุนูู ุฑูู ูุงุญุฏ ุนูู ุงูุฃูู</span>';
            break;
        case 1:
            strengthText = '<span style="color:orange;">ุถุนููุฉ: ูููุฉ ุงููุฑูุฑ ูุฌุจ ุฃู ุชุญุชูู ุนูู ุฑูู ูุงุญุฏ ุนูู ุงูุฃูู</span>';
            break;
        case 2:
            strengthText = '<span style="color:green;">ูููุฉ</span>';
            break;
    }

    // Update the strength indicator element with the appropriate message
    strengthIndicator.innerHTML = `${strengthText}`;
});

// Preview an uploaded image in the designated preview area
function previewImage(event) {
    const input = event.target; // The file input element
    const preview = document.getElementById('child-img-preview'); // The image element to display the preview

    // Check if a file is selected and valid
    if (input.files && input.files[0]) {
        const reader = new FileReader(); // Create a FileReader to read the file

        // Define what happens when the file is loaded
        reader.onload = function(e) {
            preview.src = e.target.result; // Set the image source to the file content
        };
        reader.readAsDataURL(input.files[0]); // Read the file as a Data URL
    }
}

// Enable or disable the submit button based on the terms checkbox
function toggleSubmitButton() {
    const termsCheckbox = document.getElementById('termsCheckbox'); // The terms and conditions checkbox
    const submitButton = document.getElementById('submitButton'); // The submit button
    submitButton.disabled = !termsCheckbox.checked; // Enable button only if the checkbox is checked
}

// Handle the 'Enter' key in the login form to move between inputs or submit the form
document.getElementById('loginForm').addEventListener('keydown', function(event) {
    if (event.key === 'Enter') {
        event.preventDefault(); // Prevent the default form submission on Enter key

        const inputs = Array.from(this.querySelectorAll('input')); // Get all input fields in the form
        const currentIndex = inputs.indexOf(document.activeElement); // Find the currently focused input field

        // If not the last input field, move focus to the next one
        if (currentIndex >= 0 && currentIndex < inputs.length - 1) {
            inputs[currentIndex + 1].focus();
        } else {
            this.submit(); // If it's the last input, submit the form
        }
    }
});

    </script>
    <p class="mt-3">
        <a href="/login_s">ุชููู ุญุณุงุจ ุจุงููุนูุ ุณุฌู ุงูุฏุฎูู</a>
    </p>
    <p class="mt-3">
        <a href="/register">ุฅูุดุงุก ุญุณุงุจ ููู ุงูุฑุ</a>
    </p>
</div>
{% endblock %}
